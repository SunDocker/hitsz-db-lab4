<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>志愿活动展示</title>
    <style>
        #activity_container {
            position: absolute;
            right: 25px;
            width: 80%;
        }

        #navigator {
            position: absolute;
            width: 15%;
            left: 25px;
        }

        #activity_table {
            text-align: center;
            border: 2px solid black;
            border-collapse: collapse;
            width: fit-content;
            height: max-content;
        }

        #activity_table td, #activity_table th {
            border: 1px solid black;
        }

        /*志愿活动名*/
        #activity_table tr td:nth-child(1) {
            width: 15%;
        }

        /*志愿活动类别*/
        #activity_table tr td:nth-child(2) {
            width: 9%;
        }

        /*志愿活动地点*/
        #activity_table tr td:nth-child(3) {
            width: 9%;
        }

        /*志愿活动开始时间*/
        #activity_table tr td:nth-child(4) {
            width: 11%;
        }

        /*志愿活动结束时间*/
        #activity_table tr td:nth-child(5) {
            width: 11%;
        }

        /*志愿活动主要内容与要求*/
        #activity_table tr td:nth-child(6) {
            width: 30%;
        }

        /*志愿活动所需人数*/
        #activity_table tr td:nth-child(7) {
            width: 6%;
        }

        /*志愿活动管理员*/
        #activity_table tr td:nth-child(8) {
            width: 6%;
        }

        h2, h3 {
            text-align: center;
        }
    </style>
</head>
<body>
<h2>校园志愿者招募平台</h2>

<div id="navigator">
    <h3>导航栏</h3>
    <div>当前用户：</div>
    <table>
        <tr>
            <th>权限：</th>
            <td>管理员</td>
        </tr>
        <tr>
            <th>账号：</th>
            <td>account admin</td>
        </tr>
        <tr>
            <th>昵称：</th>
            <td>account</td>
        </tr>
    </table>
    <hr>
    <div>可用操作：</div>
    <table>
        <tr>
            <th>报名志愿活动：</th>
            <td>点击活动名即可报名</td>
        </tr>
        <tr>
            <td colspan="2">
                <button>按开始时间先后查看</button>
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <button>按结束时间先后查看</button>
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <button>查看已报名志愿活动</button>
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <button>发布志愿活动</button>
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <button>查看自己发布的志愿活动/审核</button>
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <button>退出登录</button>
            </td>
        </tr>
    </table>


</div>
<div id="activity_container">
    <h3>志愿活动展示</h3>
    <table id="activity_table">
        <thead>
        <tr>
            <th>志愿活动名</th>
            <th>志愿活动类别</th>
            <th>志愿活动地点</th>
            <th>志愿活动开始时间</th>
            <th>志愿活动结束时间</th>
            <th>志愿活动主要内容与要求</th>
            <th>志愿活动所需人数</th>
            <th>志愿活动管理员</th>
        </tr>
        </thead>
        <tbody id="activity_list">
        <tr>
            <td>前端测试的|元旦晚会道具组</td>
            <td>文体娱乐类</td>
            <td>F校区操场</td>
            <td>2022-12-31 16:00:45</td>
            <td>2022-12-31 21:30:30</td>
            <td>前端测试的|给节目演员搬道具</td>
            <td>30</td>
            <td>root</td>
        </tr>
        </tbody>
    </table>
</div>

</body>
<script>
    const xhr = new XMLHttpRequest()
    xhr.onreadystatechange = function () {
        if (xhr.readyState === 4 && xhr.status === 200) {
            const jsonStr = xhr.responseText
            const activities = JSON.parse(jsonStr)
            console.log(activities)
            const listObj = document.getElementById("activity_list")
            activities.forEach(activity => {
                let rowStr = `<tr>`
                for (const attr in activity) {
                    if (attr === 'name') {
                        rowStr += `<td><a href="">${activity[attr]}</a></td>`;
                    } else {
                        rowStr += `<td>${activity[attr]}</td>`;
                    }
                }
                rowStr += `</tr>`
                listObj.innerHTML += rowStr
            });
        }
    }
    xhr.open("GET", "list")
    xhr.send()
</script>
</html>